/*
 * main.c
 *
 *  Created on: 24 lip 2015
 *      Author: Bartek
 */

#include <avr/io.h>
#include <util/delay.h>
#include "USART.h"
#include "BMP180.h"
#include "I2C.h"
char tab[2] = {'O','K'};
uint8_t temperature[2];

#define MYUBRR FOSC/16/BAUD-1
BMP180_TypeDef bmp180_Struct;
int main() {
	DDRB  = 1<<PB1;
	PORTB = 1<<PB1;
	uint8_t temperature[2] = {0,0};
	bmp180_init(&bmp180_Struct);
	USART_Init(MYUBRR);





	//twi_Init();
	//twi_Start();
	//twi_Send_SLA(BMP_W);
	unsigned char ciag[] = " TEMP: ";
	//USART_Send_String(ciag, 6);
	while(1){
		bmp180_start_temp(&bmp180_Struct);
		_delay_ms(10);
		bmp180_get_temp(&bmp180_Struct, temperature);
		//USART_Send_String(ciag, 6);
		//bmp180_send_param(&bmp180_Struct);
		//USART_Transmit_Int();
		_delay_ms(5000);
	}
}
