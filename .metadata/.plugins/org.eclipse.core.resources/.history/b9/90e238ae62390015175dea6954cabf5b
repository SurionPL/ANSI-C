/*
 * BMP180.h
 *
 *  Created on: 28 lip 2015
 *      Author: Bartek
 */

#ifndef BMP180_H_
#define BMP180_H_

#define BMP180_W 0xEE	//BMP180 Slave Address Write
#define BMP180_R 0xEF	//BMP180 Slave Address Read


/* temperature measurement */
#define BMP180_T_MEASURE			(0x2E)
/* pressure measurement*/
#define BMP180_P_MEASURE			(0x34)

#define bmp180_start()\bmp180_addr_select(uint8_t address)



/*!
 *	@brief this function used for read the calibration
 *	parameter from the register
 *
 *	Parameter  |  MSB    |  LSB    |  bit
 * ------------|---------|---------|-----------
 *		AC1    |  0xAA   | 0xAB    | 0 to 7
 *		AC2    |  0xAC   | 0xAD    | 0 to 7
 *		AC3    |  0xAE   | 0xAF    | 0 to 7
 *		AC4    |  0xB0   | 0xB1    | 0 to 7
 *		AC5    |  0xB2   | 0xB3    | 0 to 7
 *		AC6    |  0xB4   | 0xB5    | 0 to 7
 *		B1     |  0xB6   | 0xB7    | 0 to 7
 *		B2     |  0xB8   | 0xB9    | 0 to 7
 *		MB     |  0xBA   | 0xBB    | 0 to 7
 *		MC     |  0xBC   | 0xBD    | 0 to 7
 *		MD     | 0xBE    | 0xBF    | 0 to 7
 *
 *
 *	@return results of bus communication function
 *	@retval 0 -> Success
 *	@retval -1 -> Error
 *
 *
*/



/*
 * struct bmp180_t {
	struct bmp180_calib_param_t calib_param;    //<calibration data
	u8 mode;<power mode
	u8 chip_id; <chip id
	u8 ml_version;<ml version
	u8 al_version;<al version
	u8 dev_addr;<device address
	u8 sensortype;< sensor type

	s32 param_b5;<pram
	s32 number_of_samples;<sample calculation
	s16 oversamp_setting;<oversampling setting
	s16 sw_oversamp;<software oversampling

	BMP180_WR_FUNC_PTR;< bus write function pointer
	BMP180_RD_FUNC_PTR;< bus read function pointer
	void (*delay_msec)(BMP180_MDELAY_DATA_TYPE);< delay function pointer
};


*/

#define AC1_ADDR 0xAA
#define AC2_ADDR 0xAC
#define AC3_ADDR 0xAE
#define AC4_ADDR 0xB0
#define AC5_ADDR 0xB2

typedef struct
{
	short AC1,AC2,AC3;
	unsigned short AC4,AC5,AC6;
	short B1,B2;
	short MB,MC,MD;
}BMP180_CalibrationParam;




void bmp180_start();
void bmp180_addr_select(uint8_t address);
void bmp180_read_param();


#endif /* BMP180_H_ */
